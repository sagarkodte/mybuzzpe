{"version":3,"file":"static/webpack/static\\development\\pages\\category.js.6bdadc71286719bc9977.hot-update.js","sources":["webpack:///./pages/category.js"],"sourcesContent":["import React from 'react';\r\nimport Layout from '../Components/dashBoardLayout'\r\nimport axios from 'axios';\r\nimport serverUrl from '../config';\r\nimport { toast } from 'react-toastify'\r\nimport Link from 'next/link';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\n\r\nimport Slider from \"react-slick\";\r\n\r\nexport default class Index extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      quesList: [],\r\n      modal: false,\r\n      que: { question: '', options: [] },\r\n      optList: [],\r\n      opt: { options: '' },\r\n      current: 0,\r\n      checked: '',\r\n      isSelected: false,\r\n      allQuestions: [],\r\n      showNext: false,\r\n      showFinish: false,\r\n      showPrev: false,\r\n      checkboxValue: [],\r\n      lastValue: '',\r\n      radioValue: '',\r\n      message: ''\r\n    };\r\n    // this.toggle = this.toggle.bind(this);\r\n    this.next = this.next.bind(this);\r\n    this.previous = this.previous.bind(this);\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    axios.post(serverUrl.url + '/api/question/list', {\r\n      category: this.props.url.query.path,\r\n    })\r\n      .then((response) => {\r\n        this.toggle();\r\n        this.setState({ allQuestions: response.data.data })\r\n        console.log(response.data.data);\r\n        // response.data.data.forEach(function (item, index) {\r\n        //   item.options.forEach(function (item1, index1) {\r\n        //     item1.selected = 0;\r\n        //   });\r\n        // });\r\n        // console.log('News', response.data.data);\r\n        // this.setState({ quesList: response.data.data }, function () {\r\n        //   this.setState({ que: this.state.quesList[this.state.current] });\r\n        // });\r\n\r\n\r\n      })\r\n      .catch((error) => {\r\n        //console.log(error);\r\n      });\r\n\r\n  }\r\n\r\n  toggle = () => {\r\n    this.setState(prevState => ({\r\n      modal: !prevState.modal\r\n    }));\r\n  }\r\n\r\n\r\n\r\n  getRadioValue(event) {\r\n    const { checked, value } = event.target;\r\n    if (checked) {\r\n      let a = [];\r\n      a.push(value);\r\n      this.state.checkboxValue[this.state.current] = a;\r\n    }\r\n    console.log(this.state.current, this.state.checkboxValue);\r\n  }\r\n  getCheckboxValue(event) {\r\n    const { checked, value } = event.target;\r\n    if (checked) {\r\n      let a = this.state.checkboxValue[this.state.current] ? this.state.checkboxValue[this.state.current] : [];\r\n      a.push(value);\r\n      this.state.checkboxValue[this.state.current] = a;\r\n    } else {\r\n      let a = this.state.checkboxValue[this.state.current];\r\n      delete a.splice(a.indexOf(value), 1);\r\n      this.state.checkboxValue[this.state.current] = a;\r\n    }\r\n    console.log(this.state.current, this.state.checkboxValue);\r\n  }\r\n  next() {\r\n    if (this.state.checkboxValue[this.state.current] != undefined && this.state.checkboxValue[this.state.current].length) {\r\n      this.slider.slickNext();\r\n      this.setState({ current: this.state.current + 1 });\r\n      this.setState({ message: '' });\r\n    } else {\r\n      this.setState({ message: 'Please select atleast one option.' });\r\n    }\r\n  }\r\n  previous() {\r\n    this.slider.slickPrev();\r\n    this.setState({ current: this.state.current - 1 });\r\n    this.setState({ message: '' });\r\n  }\r\n  finish = () => {\r\n    let newA = [];\r\n    this.state.checkboxValue.forEach(function (index) {\r\n      index.forEach(function (index1) {\r\n        newA.push(index1);\r\n      });\r\n    });\r\n    console.log(newA);\r\n\r\n    axios.post(serverUrl.url + '/api/business/search', {\r\n      category: this.props.url.query.path,\r\n      query:(newA).toString()\r\n    })\r\n      .then((response) => {\r\n        console.log(response)\r\n      })\r\n      .catch((error) => {\r\n        //console.log(error);\r\n      });\r\n  }\r\n  render() {\r\n    console.log(this.state.checkboxValue);\r\n    var settings = {\r\n      dots: false,\r\n      infinite: false,\r\n      speed: 500,\r\n      slidesToShow: 1,\r\n      slidesToScroll: 1,\r\n    };\r\n\r\n    return (\r\n      <Layout>\r\n        <div className=\"container page\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-3 col-md-12 col-xs-12 page-sidebar\">\r\n              <aside>\r\n                <div className=\"widget_search\">\r\n                  <form role=\"search\" id=\"search-form\">\r\n                    <input type=\"search\" className=\"form-control\" autoComplete=\"off\" name=\"s\" placeholder=\"Search...\" id=\"search-input\" defaultValue />\r\n                    <button type=\"submit\" id=\"search-submit\" className=\"search-btn\"><i className=\"lni-search\" /></button>\r\n                  </form>\r\n                </div>\r\n                <div className=\"widget categories\">\r\n                  <h4 className=\"widget-title\">All Categories</h4>\r\n                  <ul className=\"categories-list\">\r\n                    <li>\r\n                      <a href=\"#\">\r\n                        <i className=\"lni-dinner\" /> Hotel &amp; Travels <span className=\"category-counter\">(5)</span>\r\n                      </a>\r\n                    </li>\r\n                    <li>\r\n                      <a href=\"#\">\r\n                        <i className=\"lni-control-panel\" /> Services <span className=\"category-counter\">(8)</span>\r\n                      </a>\r\n                    </li>\r\n                    <li>\r\n                      <a href=\"#\">\r\n                        <i className=\"lni-github\" /> Pets <span className=\"category-counter\">(2)</span>\r\n                      </a>\r\n                    </li>\r\n                    <li>\r\n                      <a href=\"#\">\r\n                        <i className=\"lni-coffee-cup\" /> Restaurants <span className=\"category-counter\">(3)</span>\r\n                      </a>\r\n                    </li>\r\n                    <li>\r\n                      <a href=\"#\">\r\n                        <i className=\"lni-home\" /> Real Estate <span className=\"category-counter\">(4)</span>\r\n                      </a>\r\n                    </li>\r\n                    <li>\r\n                      <a href=\"#\">\r\n                        <i className=\"lni-pencil\" /> Jobs <span className=\"category-counter\">(5)</span>\r\n                      </a>\r\n                    </li>\r\n                    <li>\r\n                      <a href=\"#\">\r\n                        <i className=\"lni-display\" /> Electronics <span className=\"category-counter\">(9)</span>\r\n                      </a>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n                <div className=\"widget\">\r\n                  <h4 className=\"widget-title\">Advertisement</h4>\r\n                  <div className=\"add-box\">\r\n                    <img className=\"img-fluid\" src=\"assets/img/img1.jpg\" alt />\r\n                  </div>\r\n                </div>\r\n              </aside>\r\n            </div>\r\n            <div className=\"col-lg-9 col-md-12 col-xs-12 page-content\">\r\n              <div className=\"product-filter\">\r\n                <div className=\"short-name\">\r\n                  <span>Showing (1 - 12 products of 7371 products)</span>\r\n                </div>\r\n                <div className=\"Show-item\">\r\n                  <span>Show Items</span>\r\n                  <form className=\"woocommerce-ordering\" method=\"post\">\r\n                    <label>\r\n                      <select name=\"order\" className=\"orderby\">\r\n                        <option selected=\"selected\" value=\"menu-order\">49 items</option>\r\n                        <option value=\"popularity\">popularity</option>\r\n                        <option value=\"popularity\">Average ration</option>\r\n                        <option value=\"popularity\">newness</option>\r\n                        <option value=\"popularity\">price</option>\r\n                      </select>\r\n                    </label>\r\n                  </form>\r\n                </div>\r\n\r\n              </div>\r\n              <div className=\"adds-wrapper\">\r\n                <div className=\"tab-content\">\r\n                  <div id=\"list-view\" className=\"tab-pane fade active show\">\r\n                    <div className=\"row\">\r\n                      {this.state.categoriesList}\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"pagination-bar\">\r\n                <nav>\r\n                  <ul className=\"pagination justify-content-center\">\r\n                    <li className=\"page-item\"><a className=\"page-link active\" href=\"#\">1</a></li>\r\n                    <li className=\"page-item\"><a className=\"page-link\" href=\"#\">2</a></li>\r\n                    <li className=\"page-item\"><a className=\"page-link\" href=\"#\">3</a></li>\r\n                    <li className=\"page-item\"><a className=\"page-link\" href=\"#\">Next</a></li>\r\n                  </ul>\r\n                </nav>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className}>\r\n          <ModalBody>\r\n            <Slider\r\n              swipe={false}\r\n              arrows={false}\r\n              ref={c => (this.slider = c)}\r\n              {...settings}\r\n              afterChange={(event) => this.setState({ currentQuestion: event })}\r\n            >\r\n              {this.state.allQuestions.map((item, i) =>\r\n                <div key={i}>\r\n                  <h5>{item.question}</h5>\r\n                  {item.options.map((opt, i) =>\r\n                    <div key={i}>\r\n                      {item.type === 'radio' ? <span className=\"optRadio\" ><input onChange={this.getRadioValue.bind(this)} type='radio' name=\"options\" value={opt.title} /></span> : <span><input className=\"checkbox\" onChange={(event) => this.getCheckboxValue(event)} type='checkbox' name='options[]' value={opt.title} /></span>}{opt.title}\r\n                    </div>\r\n                  )}\r\n\r\n                </div>\r\n\r\n              )}\r\n            </Slider>\r\n\r\n            {this.state.que.question}\r\n            {this.state.que.options.map((item, i) =>\r\n              <div>{this.state.que.type === 'radio' ? <div className=\"optRadio\" onChange={this.getRadioValue.bind(this)[i]}><input type='radio' name=\"options\" value={item.title} /></div> : <div><input className=\"checkbox\" onChange={(event) => this.getCheckboxValue(event)[i]} type='checkbox' name='options[]' value={item.title} /></div>}{item.title}</div>\r\n            )}\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <p>{this.state.message}</p>\r\n            {this.state.current > 0 ? <Button color=\"primary\" onClick={this.previous}>Previous</Button> : ''}\r\n            {this.state.current < this.state.allQuestions.length - 1? <Button color=\"secondary\" onClick={this.next}>Next</Button> : ''}\r\n            {this.state.current == this.state.allQuestions.length - 1 ? <Button color=\"secondary\" onClick={this.finish}>Finish</Button> : ''}\r\n          </ModalFooter>\r\n        </Modal>\r\n\r\n      </Layout>);\r\n  }\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AA0BA;AACA;AADA;AAIA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAGA;AAEA;AACA;AAlDA;AAoDA;AAAA;AACA;AADA;AAAA;AAGA;AACA;AAxDA;AAgGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAFA;AAKA;AACA;AAGA;AACA;AACA;AAjHA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AACA;AAkBA;AACA;AAtBA;AAuBA;AACA;;;AAmCA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;;;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;;;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;;;AAqBA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAHA;AAKA;AAAA;AAAA;AAAA;AAAA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAHA;AAeA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AA5QA;AACA;;;;;A","sourceRoot":""}