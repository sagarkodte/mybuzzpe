{"version":3,"file":"static/webpack/static/development/pages/index.js.d72691a290a8ef6521e6.hot-update.js","sources":["webpack:///./Components/Categories.js"],"sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport serverUrl from '../config';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport Router from 'next/router'\nclass Categories extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            categories: [],\n            subCatename: [],\n            subcatclick: false,\n            modal: false\n        };\n        this.toggle = this.toggle.bind(this);\n    }\n    componentDidMount() {\n        this.categories()\n    }\n    toggle = () => {\n        this.setState(prevState => ({\n            modal: !prevState.modal\n        }));\n    }\n    categories = () => {\n        axios.get(serverUrl.url + '/api/category/main').then(res => {\n            var cata = res.data.data;\n            ////console.log(cata)\n            this.setState({ categories: cata });\n            //console.log(this.state.categories)\n        }).catch(error => {\n            return error;\n        });\n    }\n\n    subCategories = (item) => {\n        //console.log(item)\n\n        axios.post(serverUrl.url + '/api/category/children', {\n            category: item.path,\n        })\n            .then((response) => {\n                this.setState(prevState => ({\n                    modal: !prevState.modal\n                }));\n                console.log(response.data.data);\n                this.setState({ subCatename: response.data.data })\n                console.log(this.state.subCatename);\n            })\n            .catch((error) => {\n                //console.log(error);\n            });\n    }\n    showQ = (path) => {\n        //console.log(path);\n        Router.push({\n            pathname: '/category',\n            search: '?path='+path,\n            //state: { detail: path }\n          });\n        // axios.post(serverUrl.url + '/api/question/list', {\n        //     category: path,\n        // })\n        //     .then((response) => {\n\n        //         //console.log(response.data.data);\n        //     })\n        //     .catch((error) => {\n        //         //console.log(error);\n        //     });\n        //alert(99);\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <div className=\"row\">\n                    {\n                        this.state.categories.map((item, i) =>\n                            <div onClick={() => this.subCategories(item)}  className=\"col-md-4 text-center\" key={i}>\n                                <img src={item.icon} />\n                                <h6>{item.name}</h6>\n                            </div>\n                        )\n                    }\n                    <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className} id=\"homepage_cata_modal\">\n                        <ModalBody>\n                            <Catalist clk={this.showQ} data={this.state.subCatename} />\n                        </ModalBody>\n                        <ModalFooter>\n                            <Button color=\"secondary\" onClick={this.toggle}>Cancel</Button>\n                        </ModalFooter>\n                    </Modal>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\nexport default Categories\n\nfunction Catalist(props) {\n    console.log(props)\n    const data = props.data;\n    const clk = props.clk;\n    if (data) {\n        const listItems = data.map((singlecat, index) =>\n            <li onClick={() => clk(singlecat.path)} key={index}>{singlecat.name}</li>\n        );\n        return (\n            <ul>{listItems}</ul>\n        );\n    } else {\n        return (\n            <ul>hello</ul>\n        );\n    }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAcA;AAAA;AACA;AADA;AAAA;AAGA;AACA;AAlBA;AAmBA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AA8BA;AAEA;AACA;AADA;AAIA;AAAA;AACA;AADA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAGA;AACA;AACA;AA/CA;AAgDA;AACA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhEA;AACA;AACA;AACA;AACA;AAJA;AAMA;AARA;AASA;AACA;;;AAAA;AACA;AACA;;;AAuDA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;AA3FA;AACA;AA4FA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;;;;A","sourceRoot":""}