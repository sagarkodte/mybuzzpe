{"version":3,"file":"static/webpack/static\\development\\pages\\addProject.js.39ee8da22a3e4ec42c09.hot-update.js","sources":["webpack:///./pages/addProject.js"],"sourcesContent":["import React from 'react';\r\nimport Select from 'react-select';\r\nimport Layout from '../Components/twoColumnLayout'\r\nimport axios from 'axios';\r\nimport Config from '../config';\r\nimport Link from 'next/link';\r\nimport category from '../Services/categoryService';\r\nimport business from '../Services/businessService';\r\nimport ReactTags from 'react-tag-autocomplete'\r\n\r\nexport default class extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            token: '',\r\n            businessName: '',\r\n            businessDescription: '',\r\n            addressLine1: '',\r\n            addressCity: '',\r\n            addressState: '',\r\n            addressPincode: '',\r\n            categoryType: 'Select Category Type',\r\n            category: 'Select Category',\r\n            subCategory: 'Select Sub Category',\r\n            budgetAmt: '',\r\n            businessTags: '',\r\n            categoryList: '',\r\n            subCategoryList: '',\r\n            subCategoryArray: [],\r\n            errors: {},\r\n            success: '',\r\n            error: '',\r\n            // new vars\r\n            categoryArray: [],\r\n            selectedOption: null,\r\n            subCategoryArray: [],\r\n            selectedSubOption: null,\r\n            projectCategory: [],\r\n            tags: [],\r\n            suggestions: [],\r\n            budgetType: [{ value: 'Monthly', label: 'Monthly' },\r\n            { value: 'Hourly', label: 'Hourly' }],\r\n            SelectedbudgetType:'',\r\n        };\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        if (localStorage.getItem('token') !== null) {\r\n            console.log('Data Available');\r\n            this.setState({ token: localStorage.getItem('token') }, function () {\r\n                console.log(this.state.token)\r\n            });\r\n        }\r\n        category.getMainCategories().then(res => {\r\n            let a = [];\r\n            res.data.forEach(function (item) {\r\n                a.push({ value: item.path, label: item.name });\r\n            });\r\n            this.setState({ categoryArray: a }, function () {\r\n                console.log(this.state.categoryArray);\r\n            });\r\n        }).catch(error => {\r\n            console.log('error 8', error)\r\n        });\r\n    }\r\n    handleDelete(i) {\r\n        const tags = this.state.tags.slice(0)\r\n        tags.splice(i, 1)\r\n        this.setState({ tags })\r\n    }\r\n\r\n    handleAddition(tag) {\r\n        const tags = [].concat(this.state.tags, tag)\r\n        this.setState({ tags }, function () {\r\n            console.log(this.state.tags)\r\n        })\r\n\r\n\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    }\r\n    getAllskills = (query) => {\r\n        console.log(query)\r\n        axios.get(Config.url + '/api/business/getallskills?p=' + query).then(res => {\r\n            var cata = res.data.data;\r\n            const arr = cata;\r\n            const newResponse = arr.map((name, id) => ({ id, name }));\r\n            console.log(newResponse);\r\n            this.setState({ suggestions: newResponse })\r\n            //this.setState({ categories: cata });\r\n            //console.log(this.state.categories)\r\n        }).catch(error => {\r\n            return error;\r\n        });\r\n    }\r\n    handleCategoryChange = selectedOption => {\r\n        this.setState({ selectedOption }, function () {\r\n            category.getSubCategories(this.state.selectedOption.value).then(res => {\r\n                let a = [];\r\n                res.data.forEach(function (item) {\r\n                    a.push({ value: item.path, label: item.name });\r\n                });\r\n                this.setState({ subCategoryArray: a }, function () {\r\n                    console.log(this.state.subCategoryArray);\r\n                });\r\n            }).catch(error => {\r\n                console.log('error 8', error)\r\n            });\r\n        });\r\n    }\r\n    getBudgetType = (selectedOption) => {\r\n        console.log(selectedOption.value)\r\n        this.setState({SelectedbudgetType:selectedOption.value})\r\n\r\n    }\r\n    handleSubCategoryChange = selectedOption => {\r\n        this.setState({ selectedSubOption: selectedOption });\r\n    }\r\n    addBusiness = () => {\r\n        let cat = this.state.selectedOption;\r\n        let subCat = this.state.selectedSubOption;\r\n        let projectCategory = []\r\n        subCat.push(cat);\r\n        subCat.forEach(function (item) {\r\n            projectCategory.push(item.value);\r\n        });\r\n\r\n        this.setState({ projectCategory: projectCategory }, function () {\r\n            business.addProject({\r\n                'description': this.state.projectDescription,\r\n                'category': (this.state.projectCategory).toString(),\r\n                'services': this.state.tags,\r\n                'budget': this.state.addressCity,\r\n                'budgetType': this.state.SelectedbudgetType,\r\n                'note': this.state.addressPincode,\r\n            }, {\r\n                    headers: {\r\n                        'x-access-token': this.state.token\r\n                    }\r\n                }\r\n            ).then(res => {\r\n                console.log('res3', res);\r\n            }).catch(err => {\r\n                console.log('err3', err);\r\n            });\r\n        });\r\n    }\r\n    render() {\r\n\r\n        return (<Layout>\r\n            <div className=\"page-content\">\r\n                <div className=\"inner-box\">\r\n                    <div className=\"dashboard-box d-sm-flex align-items-center justify-content-between \">\r\n                        <h2 className=\"dashbord-title\">Add new project</h2>\r\n                        {/* <Link href=\"addBusiness\"><a data-toggle=\"modal\"  className=\"d-none d-sm-inline-block btn btn-sm btn-common shadow-sm\"><i className=\"lni-plus\" /> Create</a></Link> */}\r\n                    </div>\r\n                    <div className=\"dashboard-wrapper\" id=\"shopDetails\"></div>\r\n                    <div className=\"col-md-12 col-sm-12 col-sx-12\">\r\n                        <div className=\"form-group mb-3\">\r\n                            <label className=\"control-label\">Project Description</label>\r\n                            <textarea className=\"form-control\" placeholder=\"\" name=\"projectDescription\" value={this.state.projectDescription} onChange={this.handleChange} rows={3} data-error=\"Write your message\" required />\r\n                            <p><font color=\"red\">{this.state.errors.businessDescription}</font></p>\r\n                        </div>\r\n                        <div className=\"form-group mb-3\">\r\n                            <label className=\"control-label\">Select Category:</label>\r\n                            <Select onChange={this.handleCategoryChange} options={this.state.categoryArray} />\r\n                        </div>\r\n                        <div className=\"form-group mb-3\">\r\n                            <label className=\"control-label\">Select Sub Category:</label>\r\n                            <Select value={this.state.selectedSubOption} isMulti onChange={(...args) => this.handleSubCategoryChange(...args)} options={this.state.subCategoryArray} />\r\n                        </div>\r\n                        <div className=\"form-group mb-3\">\r\n                            <label className=\"control-label\">Add Skills *</label>\r\n                            <ReactTags\r\n                                handleInputChange={this.getAllskills}\r\n                                minQueryLength={1}\r\n                                tags={this.state.tags}\r\n                                suggestions={this.state.suggestions}\r\n                                handleDelete={this.handleDelete.bind(this)}\r\n                                handleAddition={this.handleAddition.bind(this)} />\r\n                        </div>\r\n                        <div className=\"form-group mb-3\">\r\n                            <label className=\"control-label\">Budget</label>\r\n                            <input className=\"form-control input-md\" name=\"budgetAmt\" value={this.state.budgetAmt} type=\"text\" onChange={this.handleChange} />\r\n                            <p><font color=\"red\">{this.state.errors.budgetAmt}</font></p>\r\n                        </div>\r\n                        <div className=\"form-group mb-3\">\r\n                            <label className=\"control-label\">Budget Type</label>\r\n                            <Select onChange={this.getBudgetType} options={this.state.budgetType} />\r\n                        </div>\r\n                        <div className=\"form-group mb-3\">\r\n                            <label className=\"control-label\">Note</label>\r\n                            <textarea className=\"form-control\" placeholder=\"\" name=\"businessDescription\" value={this.state.businessDescription} onChange={this.handleChange} rows={3} data-error=\"Write your message\" required />\r\n                            <p><font color=\"red\">{this.state.errors.businessDescription}</font></p>\r\n                        </div>\r\n                        <div className=\"form-group mb-3\">\r\n                            <label className=\"control-label\">Address Area *</label>\r\n                            <input className=\"form-control input-md\" name=\"addressarea\" value={this.state.addressarea} type=\"text\" onChange={this.handleChange} />\r\n                            <p><font color=\"red\">{this.state.errors.addressarea}</font></p>\r\n                        </div>\r\n                        <div className=\"form-group mb-3\">\r\n                            <label className=\"control-label\">Address City *</label>\r\n                            <input className=\"form-control input-md\" name=\"addressCity\" value={this.state.addressCity} type=\"text\" onChange={this.handleChange} />\r\n                            <p><font color=\"red\">{this.state.errors.addressCity}</font></p>\r\n                        </div>\r\n                        <div className=\"form-group mb-3\">\r\n                            <label className=\"control-label\">Address State*</label>\r\n                            <input className=\"form-control input-md\" name=\"addressState\" value={this.state.addressState} type=\"text\" onChange={this.handleChange} />\r\n                            <p><font color=\"red\">{this.state.errors.addressState}</font></p>\r\n                        </div>\r\n                        <div className=\"form-group mb-3\">\r\n                            <label className=\"control-label\">Pincode *</label>\r\n                            <input className=\"form-control input-md\" name=\"addressPincode\" value={this.state.addressPincode} type=\"text\" onChange={this.handleChange} />\r\n                            <p><font color=\"red\">{this.state.errors.addressPincode}</font></p>\r\n                        </div>\r\n\r\n\r\n                        <div className=\"form-group mb-3\">\r\n                            <label className=\"control-label\">Business Tags*</label>\r\n                            <input className=\"form-control input-md\" name=\"businessTags\" value={this.state.businessTags} type=\"text\" onChange={this.handleChange} />\r\n                            <p><font color=\"red\">{this.state.errors.businessTags}</font></p>\r\n                        </div>\r\n\r\n\r\n                        {/* <div className=\"form-group mb-3\">\r\n                        <label className=\"control-label\">Shop Photograph</label>\r\n                        <label className=\"tg-fileuploadlabel\" htmlFor=\"tg-photogallery\">\r\n                        <span>Drop files anywhere to upload</span>\r\n                        <span>Or</span>\r\n                        <span className=\"btn btn-common\">Select Files</span>\r\n                        <span>Maximum upload file size: 500 KB</span>\r\n                        <input id=\"tg-photogallery\" className=\"tg-fileinput\" type=\"file\" name=\"file\" />\r\n                        </label>\r\n                    </div> */}\r\n                        {this.state.success !== '' ? <div className=\"alert alert-success\">\r\n                            {this.state.success}\r\n                        </div> : ''}\r\n                        {this.state.error ? <div className=\"alert alert-danger\">\r\n                            {this.state.error}\r\n                        </div> : ''}\r\n                        <button className=\"btn btn-common\" type=\"button\" onClick={this.addBusiness}>Submit</button>\r\n                        <button className=\"btn btn-common\" type=\"button\" onClick={this.onCanel}>Cancel</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Layout>);\r\n    }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAEA;AAAA;AACA;AADA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAoCA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtDA;AAsEA;AACA;AACA;AAxEA;AAyEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAtFA;AAuFA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArGA;AAsGA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AA1GA;AA2GA;AAAA;AAAA;AACA;AACA;AA7GA;AA8GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AADA;AADA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAxIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBA;AA2BA;AAAA;AAAA;AACA;AAAA;AAAA;AA9BA;AAiCA;AACA;;;AAoBA;AACA;AACA;AACA;AAAA;AAAA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAGA;;;AAuEA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AA9OA;AACA;;;;;A","sourceRoot":""}